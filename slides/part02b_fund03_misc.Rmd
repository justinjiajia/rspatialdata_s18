---
title: "<span class='pres-date'>Week `r params$this_week`: </span><br/><span class='pres-subtitle'>Spatial Data Analysis with R</span><br/><span class='pres-date'>`r load('../common/course_info.RData'); lstCI$class01`</span>"
author: "<span class='pres-title'>R Fundamentals</span>"
output: 
  slidy_presentation:
    css: "../common/slidy_styles.css"
    df_print: default
    duration: 0
    font_adjustment: 2
    footer:  !expr load('../common/course_info.RData'); paste("<span class='footer-right'><a href='acknowledgements.html'>Acknowledgements</a></span><span class='footer-right'><a href='../index.html'>Course Homepage</a></span><span class='footer-right'>Etherpad:&nbsp<a href='", lstCI$etherpadshort, "' target='_blank'>", lstCI$etherpadshort, "</a></span><span class='footer-subtitle'>Spatial Data Analysis in R</span>")
    self_contained: no
    lib_dir: lib
    smart: no
    includes:
      in_header: "../common/header.html"
params:
    this_week: 2
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(kableExtra)
```

# Inspecting Objects

Top-Ten Functions for Inspecting Objects

str()  
head() & tail()  
summary()  
table()  
min(), max(), range()  
class()  
nrow(), ncol(), & dim()  

# Sorting 

Make a vector of random values.

```{r}
x <- round(1000 * runif(10))
x
```

Two approaches to sorting:

<tt>sort(x)</tt>: Change the order of the elements in vector

<tt>order(x)</tt>: Leave x alone, but find the order the elements are in and get their indices in that order.

```{r}
sort(x)
order(x)
```

If you compute the order of the elements, you can return a sorted copy of the list by putting the indices inside the square brackets.

```{r}
idx <- order(x)
x[idx]
```

```{r}
idx <- order(x, decreasing=TRUE)
x[idx]
```

# Dealing with Missing, Undefined, and Invalid Values

An object may have a missing or undefined value if it hasn't been initialized yet, a value wasn't passed, an operation couldn't work.

R has two resevered words it uses to note missing values.

<div class="indented1">
<tt>NULL</tt> - undefined  
<tt>NA</tt> - missing
</div> 

These are not the same as errors!

NULL can not exist in a vector. 

## Testing for NA and NULL:

```{r, eval=FALSE}
is.na(x)
is.null(x)
```

## Other special values

Empty Strings

```{r eval=F}
x == ""	
```

<tt>Inf</tt> and <tt>-Inf</tt>

```{r eval=T}
5/0
```

# Lists

Lists are similiar to vectors except that,

- the elements can be referenced by name as well as index  
- elements can be different types
- elements can anything (including other lists!)

```{r}
move_data <- list(id="toni", species="buffalo", age=12, sex="female", selected=TRUE, wt=182, herd=c("west", "hilltop"))
move_data
```

You grab individual elements with the <tt>$</tt> character or double square brackets. If you're not sure what the element names are, you can check with <tt>names()</tt> (and change them also).

```{r}
names(move_data)
move_data$id
move_data[[3]]
move_data[["age"]]
```

Note <tt>$</tt> and <tt>[[ ]]]</tt> grab an individual element. Use single square brackets to return a sub-list.

```{r}
move_data[ c(3,5)]
```

Reassign a list element

```{r}
move_data$selected <- FALSE
move_data$selected
```

To add a list element, just assign it a value and R will add it 'on the fly'.

```{r}
move_data$mother <- "luci"
```

To delete a list element, set it to <tt>NULL</tt>.

```{r}
move_data$herd <- NULL
names(move_data)
```


## S4 Objects

S4 objects are like 'super lists'.

In addition to list elements, they can have 'slots' that you grab with the <tt>@</tt> character.

Spatial data classes from the <tt>sp</tt> package are S4 objects.

# Saving Your Work

A big reason for using R is to be able to reproduce your work.

You can save your scripts and variables. 

Save scripts in RStudio at *.R files. 

# Next Up

Exercise 4. More R Fundamentals

Two-Dimensional Structures

R Markdown



